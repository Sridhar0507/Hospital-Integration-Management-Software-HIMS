"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[5763],{5763:(e,n,s)=>{s.r(n),s.d(n,{default:()=>m});var i=s(5043),l=s(6213),a=s(3003),t=s(1906),o=s(3159),c=s(6133),d=s(407),r=(s(7762),s(3141),s(1338)),h=s(2661),u=s(579);const m=()=>{const[e,n]=(0,i.useState)([]),[s,m]=(0,i.useState)(!1),[x,g]=(0,i.useState)(!1),[j,v]=(0,i.useState)({}),[p,_]=(0,i.useState)([]),[y,N]=(0,i.useState)([]),[b,k]=(0,i.useState)([]),[D,w]=(0,i.useState)(null),[R,f]=(0,i.useState)(null),[A,S]=(0,i.useState)(!0),[C,P]=(0,i.useState)(0),[q,I]=(0,i.useState)("Inhouse"),[M,F]=(0,i.useState)(0),[E,G]=(0,i.useState)(""),[T,Q]=(0,i.useState)([]),[B,L]=(0,i.useState)(0),[O,W]=(0,i.useState)("Request"),[H,K]=(0,i.useState)([]),[U,V]=(0,i.useState)(""),[z,J]=(0,i.useState)(""),[X,Y]=(e.length,Math.ceil(e.length/10),(0,i.useState)(null)),[Z,$]=(0,i.useState)(!1),ee=(0,a.d4)((e=>{var n;return null===(n=e.userRecord)||void 0===n?void 0:n.UrlLink})),ne=e=>["e","E","+","-"].includes(e.key)&&e.preventDefault(),se=(0,a.d4)((e=>{var n;return null===(n=e.userRecord)||void 0===n?void 0:n.UserData})),ie=(0,a.d4)((e=>{var n;return null===(n=e.Frontoffice)||void 0===n?void 0:n.IP_DoctorWorkbenchNavigation}));(0,i.useEffect)((()=>{l.A.get("".concat(ee,"usercontrol/getClinic?location=").concat(null===se||void 0===se?void 0:se.location)).then((e=>{const n=e.data[0];console.log(e),v(n)})).catch((e=>{console.error("Error:",e)})),l.A.get("".concat(ee,"usercontrol/getAccountsetting")).then((e=>{if(console.log(e.data),e.data){const n=e.data;w("data:image/png;base64,".concat(n.Clinic_Logo))}else console.error("No record found")})).catch((e=>console.error("Error fetching data")))}),[]),(0,i.useEffect)((()=>{"Request"===O?l.A.get("".concat(ee,"DrugAdminstrations/get_for_doc_drugs_nurse_request?Bookingid=").concat(null===ie||void 0===ie?void 0:ie.RegistrationId,"&Location=").concat(null===se||void 0===se?void 0:se.location)).then((e=>{console.log(e),n(e.data.map(((e,n)=>({...e,id:n+1}))))})).catch((e=>{console.log(e)})):"Approve"===O&&l.A.get("".concat(ee,"DrugAdminstrations/get_completed_prescribed_medicine")).then((e=>{console.log(e),n(e.data.map(((e,n)=>({...e,id:n+1}))))})).catch((e=>{console.log(e)}))}),[s,O,x]),console.log("issueddrugs",e),(0,i.useEffect)((()=>{(new Date).toISOString().split("T")[0];J(new Date,"Asia/Kolkata")}),[]);const le=z&&(0,d.GP)(z," dd / MM / yy");(0,i.useEffect)((()=>{l.A.get("".concat(ee,"ipregistration/get_drug_for_pharmacy_billing")).then((e=>{console.log(e);const n=e.data;console.log(n),k(n)})).catch((e=>{console.log(e)}))}),[]);const ae=[{key:"id",name:"S No"},{key:"BookingId",name:"Booking ID"},{key:"PrescriptionId",name:"Prescription ID"},{key:"Department",name:"Department"},{key:"DoctorName",name:"Doctor Name"},{key:"GenericName",name:"Generic Name"},{key:"MedicineCode",name:"Medicine Code"},{key:"MedicineName",name:"Medicine Name"},{key:"Dosage",name:"Dosage"},{key:"Route",name:"Route"},{key:"Quantity",name:"Quantity"},{key:"Action",name:"View",renderCell:e=>(0,u.jsx)(t.A,{className:"cell_btn",onClick:()=>oe(e.row),children:(0,u.jsx)(o.A,{})})}],te=[{key:"id",name:"S No"},{key:"BookingId",name:"Booking ID"},{key:"PrescriptionId",name:"Prescription ID"},{key:"Department",name:"Department"},{key:"DoctorName",name:"Doctor Name"},{key:"GenericName",name:"Generic Name"},{key:"MedicineCode",name:"Medicine Code"},{key:"MedicineName",name:"Medicine Name"},{key:"Dosage",name:"Dosage"},{key:"Route",name:"Route"},{key:"RecivedQuantity",name:"RecivedQuantity"},{key:"Action",name:"View",renderCell:e=>(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(t.A,{className:"cell_btn",onClick:()=>{return n=e.row,console.log("row:",n),void l.A.post("".concat(ee,"DrugAdminstrations/insert_nurse_received_drugs"),n).then((e=>{console.log("Response:",e.data),g(!x)})).catch((e=>{console.error("Error:",e)}));var n},children:(0,u.jsx)(r.A,{})})})},{key:"Actions",name:"Cancel",renderCell:e=>(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(t.A,{className:"cell_btn",onClick:()=>{return n=e.row,void console.log("row.......................",n);var n},children:(0,u.jsx)(h.tqh,{})})})}],oe=e=>{console.log("row",e),m(!0),P(null===e||void 0===e?void 0:e.Quantity),Q([e])};console.log("dummy",T),(0,i.useEffect)((()=>{let e=0;if("Daily"===U){var n;const s=(null===(n=T[0])||void 0===n?void 0:n.FrequencyTime.split(",")).length;e=s}else"Total"===U&&(e=C);const s=new Date,i=(0,d.GP)(s,"HH:mm:ss"),l=(0,d.GP)(new Date,"yyyy-MM-dd");F(e),Q((n=>({...n,totalquantity:C,issuedquantity:e,ordertype:U,requesttype:q,requesttime:"".concat(l,",").concat(i)})))}),[U,C]);(0,i.useEffect)((()=>{l.A.get("".concat(ee,"ipregistration/get_barcode_for_inhouse_pharmacy")).then((e=>{console.log(e.data);const n=e.data;G(n)})).catch((e=>{console.log(e)}))}),[]),console.log("prescriptionData,hdudfhiordoigtrfiotgrouigouierhdujredhyolh",b);return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"Main_container_app",children:[(0,u.jsx)("div",{className:"",children:(0,u.jsx)("div",{className:"RegisterType",children:["Request","Approve"].map(((e,n)=>(0,u.jsxs)("div",{className:"registertypeval",children:[(0,u.jsx)("input",{type:"radio",id:e,name:"pagetype",checked:O===e,onChange:e=>W(e.target.value),value:e}),(0,u.jsx)("label",{htmlFor:e,children:e})]},n)))})}),A?(0,u.jsxs)(u.Fragment,{children:["Request"===O&&(0,u.jsx)(c.A,{columns:ae,RowData:e}),"Approve"===O&&(0,u.jsx)(c.A,{columns:te,RowData:e}),(0,u.jsx)("div",{className:"RegisFormcon",children:s&&"Request"===O?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"RegisForm_1",children:[(0,u.jsxs)("label",{children:["Order Type ",(0,u.jsx)("span",{children:":"})]}),(0,u.jsxs)("select",{name:"RequestType",value:q,onChange:e=>I(e.target.value),children:[(0,u.jsx)("option",{value:"Inhouse",children:"In House"}),(0,u.jsx)("option",{value:"Outsourced",children:"Out Source"}),(0,u.jsx)("option",{value:"Replacement",children:"Replacement"})]})]}),(0,u.jsxs)("div",{className:"RegisForm_1",children:[(0,u.jsxs)("label",{children:["Quantity ",(0,u.jsx)("span",{children:":"})]}),(0,u.jsx)("input",{type:"number",onKeyDown:ne,value:C,readOnly:!0})]}),(0,u.jsxs)("div",{className:"RegisForm_1",children:[(0,u.jsxs)("label",{children:["Request Type ",(0,u.jsx)("span",{children:":"})]}),(0,u.jsxs)("select",{name:"RequestType",value:U,onChange:e=>V(e.target.value),children:[(0,u.jsx)("option",{value:"",children:"Select"}),(0,u.jsx)("option",{value:"Total",children:"Total"}),(0,u.jsx)("option",{value:"Daily",children:"Daily"})]})]}),(0,u.jsxs)("div",{className:"RegisForm_1",children:[(0,u.jsxs)("label",{children:["Request Quantity ",(0,u.jsx)("span",{children:":"})]}),(0,u.jsx)("input",{type:"number",onKeyDown:ne,value:M,readOnly:!0})]}),(0,u.jsx)("div",{style:{display:"grid",placeItems:"center",width:"100%"},children:(0,u.jsx)("button",{className:"btn-add",onClick:()=>(()=>{const e={...T};M>0?l.A.post("".concat(ee,"DrugAdminstrations/insert_nurse_request_drugs"),e).then((e=>{console.log(e),m(!1),F(""),P(""),V(""),0===T.length&&S(!0)})).catch((e=>{console.log(e)})):alert("Please Enter Request Quantity")})(),children:"Add"})})]}):null})]}):(0,u.jsxs)("div",{className:"billing-invoice",id:"reactprintcontentprescrib",children:[(0,u.jsxs)("div",{className:"New_billlling_invoice_head",children:[(0,u.jsx)("div",{className:"new_billing_logo_con",children:(0,u.jsx)("img",{src:D,alt:"Medical logo"})}),(0,u.jsxs)("div",{className:"new_billing_address_1 ",children:[(0,u.jsx)("div",{children:(0,u.jsxs)("span",{children:[j.door_no,","]})}),(0,u.jsx)("div",{children:(0,u.jsx)("span",{children:(null===j||void 0===j?void 0:j.door_no)+","+j.street+","+j.area+","+j.city+","+j.state+"-"+j.pincode})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:j.phone_no+" , "}),(0,u.jsx)("span",{children:j.ClinicLandLineNo+" , "}),(0,u.jsx)("span",{children:j.email})]})]})]}),(0,u.jsx)("div",{className:"Register_btn_con",style:{color:"hsl(33,100%,50%)",fontWeight:600},children:"Patient Preview"}),(0,u.jsxs)("div",{className:"new_billing_address",children:[(0,u.jsx)("div",{className:"Register_btn_con_barcode_prescrib",id:"get_imagecontent_1"}),(0,u.jsxs)("div",{className:"new_billing_address_2",children:[(0,u.jsxs)("div",{className:"new_billing_div",children:[(0,u.jsxs)("label",{children:["Patient Name ",(0,u.jsx)("span",{children:":"})]}),(0,u.jsx)("span",{children:null===ie||void 0===ie?void 0:ie.PatientName})]}),(0,u.jsxs)("div",{className:"new_billing_div",children:[(0,u.jsxs)("label",{children:["Patient ID ",(0,u.jsx)("span",{children:":"})]}),(0,u.jsx)("span",{children:null===ie||void 0===ie?void 0:ie.PatientId})]}),(0,u.jsxs)("div",{className:"new_billing_div",children:[(0,u.jsxs)("label",{children:["Age ",(0,u.jsx)("span",{children:":"})]}),(0,u.jsx)("span",{children:null===ie||void 0===ie?void 0:ie.Age})]}),(0,u.jsxs)("div",{className:"new_billing_div",children:[(0,u.jsxs)("label",{children:["Gender ",(0,u.jsx)("span",{children:":"})]}),(0,u.jsx)("span",{children:null===ie||void 0===ie?void 0:ie.Gender})]})]}),(0,u.jsxs)("div",{className:"new_billing_address_2",children:[(0,u.jsxs)("div",{className:"new_billing_div",children:[(0,u.jsxs)("label",{children:["Date ",(0,u.jsx)("span",{children:":"})]}),(0,u.jsx)("span",{children:le})]}),(0,u.jsxs)("div",{className:"new_billing_div",children:[(0,u.jsxs)("label",{children:["Room No ",(0,u.jsx)("span",{children:":"})]}),(0,u.jsxs)("span",{children:[null===ie||void 0===ie?void 0:ie.RoomNo," /",null===ie||void 0===ie?void 0:ie.RoomType,"-",null===ie||void 0===ie?void 0:ie.WardName]})]}),(0,u.jsxs)("div",{className:"new_billing_div",children:[(0,u.jsxs)("label",{children:[" Attender No ",(0,u.jsx)("span",{children:":"})]}),(0,u.jsx)("span",{children:null===ie||void 0===ie?void 0:ie.AttenderMobileNo})]}),(0,u.jsxs)("div",{className:"new_billing_div",children:[(0,u.jsxs)("label",{children:[" Patient No ",(0,u.jsx)("span",{children:":"})]}),(0,u.jsx)("span",{children:null===ie||void 0===ie?void 0:ie.PatientPhoneNo})]})]})]}),(0,u.jsx)("div",{className:"Register_btn_con",style:{color:"hsl(33,100%,50%)",fontWeight:600},children:"Prescription"}),(0,u.jsx)("div",{className:"new_billing_invoice_detials summa_table_for_priscribtion",children:(0,u.jsxs)("table",{children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"S.No"}),(0,u.jsx)("th",{children:"Generic Name"}),(0,u.jsx)("th",{children:"Item Name"}),(0,u.jsx)("th",{children:"Dose"}),(0,u.jsx)("th",{children:"Route"}),(0,u.jsx)("th",{children:"Qty"})]})}),(0,u.jsx)("tbody",{children:b.map(((e,n)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:n+1}),(0,u.jsx)("td",{children:e.GenericName}),(0,u.jsx)("td",{children:e.MedicineName}),(0,u.jsx)("td",{children:e.Dosage}),(0,u.jsx)("td",{children:e.Route}),(0,u.jsx)("td",{children:e.RequestQuantity})]},n)))})]})}),(0,u.jsx)("div",{className:"new_billing_invoice_detials ",style:{paddingBottom:"10px",height:"70px"},children:(0,u.jsx)("div",{className:"invoice_detials_total_1 neww_invoicedetials",children:(0,u.jsxs)("div",{className:"total_con_bill",children:[(0,u.jsxs)("div",{className:"bill_body",children:[(0,u.jsxs)("label",{children:["Doctor Name ",(0,u.jsx)("span",{children:":"})]}),(0,u.jsx)("span",{children:null===ie||void 0===ie?void 0:ie.PrimaryDoctor})]}),(0,u.jsxs)("div",{className:"bill_body",children:[(0,u.jsxs)("label",{children:[" Doctor sign ",(0,u.jsx)("span",{children:":"})]}),(0,u.jsx)("img",{src:R,alt:"sign",style:{width:"90px",height:"40px",marginLeft:"50px"}})]})]})})})]})]})})}}}]);
//# sourceMappingURL=5763.27e6662f.chunk.js.map