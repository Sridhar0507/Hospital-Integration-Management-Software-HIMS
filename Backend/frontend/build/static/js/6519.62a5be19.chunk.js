"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6519],{6519:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(5043),l=n(3003),r=n(6133),o=n(6213),s=n(6324),i=n(7392),d=n(7260),c=n(8983),u=n(1828),p=n(579);const g=()=>{const e=(0,l.wA)(),t=(0,l.d4)((e=>{var t;return null===(t=e.userRecord)||void 0===t?void 0:t.UrlLink})),n=(0,l.d4)((e=>{var t;return null===(t=e.userRecord)||void 0===t?void 0:t.toast})),g=(0,l.d4)((e=>{var t;return null===(t=e.Frontoffice)||void 0===t?void 0:t.IP_DoctorWorkbenchNavigation}));console.log(g,"IP_DoctorWorkbenchNavigation");const h=(0,l.d4)((e=>{var t;return null===(t=e.userRecord)||void 0===t?void 0:t.UserData})),[m,x]=(0,a.useState)({Temperature:"",PulseRate:"",SPO2:"",HeartRate:"",RespiratoryRate:"",SBP:"",DBP:"",Height:"",Weight:"",BMI:"",WC:"",HC:"",BSL:"",Painscore:"",SupplementalOxygen:"",LevelOfConsiousness:"",CapillaryRefillTime:""}),[f,v]=(0,a.useState)("Vital"),[y,C]=(0,a.useState)([]),[S,R]=(0,a.useState)(!1),[w,b]=(0,a.useState)(!1),j={normal:"green",minlow:"yellow",maxlow:"yellow",minmedium:"orange",maxmedium:"orange",minhigh:"red",maxhigh:"red"},_=e=>{switch(e){case 3:return"red";case 2:return"orange";case 1:return"yellow";case 0:return"green";default:return""}},k=e=>j[e]||"",P=e=>"string"!==typeof e||0===e.length?null:(0,p.jsxs)("div",{style:{width:"40px",height:"40px",backgroundColor:k(e),display:"flex",alignItems:"center",justifyContent:"center",marginRight:"15px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(0, 0, 0, 0.2)",fontSize:"12px",fontWeight:"bold",color:"#fff"},children:[e.charAt(0).toUpperCase()," "]});(0,a.useEffect)((()=>{if(m.Weight&&m.Height){const e=parseFloat(m.Weight),t=parseFloat(m.Height)/100,n=(e/(t*t)).toFixed(2);x((e=>({...e,BMI:n})))}}),[m.Weight,m.Height]);const O=[{key:"id",name:"S.No",frozen:!0},{key:"Type",name:"Type",frozen:!0},{key:"PrimaryDoctorId",name:"Doctor Id",frozen:!0},{key:"PrimaryDoctorName",name:"Doctor Name",frozen:!0},{key:"Date",name:"Date",frozen:!0},{key:"Time",name:"Time",frozen:!0},{key:"view",frozen:!0,name:"View",renderCell:e=>(0,p.jsx)(i.A,{onClick:()=>W(e.row),children:(0,p.jsx)(d.A,{})})}],W=e=>{x({Temperature:e.Temperature||"",PulseRate:e.PulseRate||"",SPO2:e.SPO2||"",HeartRate:e.HeartRate||"",RespiratoryRate:e.RespiratoryRate||"",SBP:e.SBP||"",DBP:e.DBP||"",Height:e.Height||"",Weight:e.Weight||"",BMI:e.BMI||"",WC:e.WC||"",HC:e.HC||"",BSL:e.BSL||"",Painscore:e.Painscore||"",SupplementalOxygen:e.SupplementalOxygen||"",LevelOfConsiousness:e.LevelOfConsiousness||"",CapillaryRefillTime:e.CapillaryRefillTime||""}),b(!0)},A=()=>{x({Temperature:"",PulseRate:"",SPO2:"",HeartRate:"",RespiratoryRate:"",SBP:"",DBP:"",Height:"",Weight:"",BMI:"",WC:"",HC:"",BSL:"",Painscore:"",SupplementalOxygen:"",LevelOfConsiousness:"",CapillaryRefillTime:""}),b(!1)};(0,a.useEffect)((()=>{o.A.get("".concat(t,"Ip_Workbench/IP_Vitals_Form_Details_Link"),{params:{RegistrationId:null===g||void 0===g?void 0:g.RegistrationId}}).then((e=>{const t=e.data;console.log("API Data:",t),t&&Array.isArray(t.vital_details)?C(t.vital_details):console.error("vital_details is not an array:",t)})).catch((e=>{console.error("Error fetching data:",e)}))}),[t,g,S]);const B=e=>{const{name:t,value:n}=e.target,a=n.trim();x((e=>({...e,[t]:a})))},D=[{key:"temperature_status",name:"Temperature Status",renderCell:e=>(0,p.jsx)("div",{style:{backgroundColor:_(e.row.temperature_status),width:"100%",height:"100%",textAlign:"center",color:"#fff",fontWeight:"bold",borderRadius:"4px",padding:"5px"},children:e.row.temperature_status})},{key:"spo2_status",name:"SPO2 Status",renderCell:e=>(0,p.jsx)("div",{style:{backgroundColor:_(e.row.spo2_status),width:"100%",height:"100%",textAlign:"center",color:"#fff",fontWeight:"bold",borderRadius:"4px",padding:"5px"},children:e.row.spo2_status})},{key:"heartrate_status",name:"Heart Rate Status",renderCell:e=>(0,p.jsx)("div",{style:{backgroundColor:_(e.row.heartrate_status),width:"100%",height:"100%",textAlign:"center",color:"#fff",fontWeight:"bold",borderRadius:"4px",padding:"5px"},children:e.row.heartrate_status})},{key:"RespiratoryStatus",name:"Respiratory Status",renderCell:e=>(0,p.jsx)("div",{style:{backgroundColor:_(e.row.RespiratoryStatus),width:"100%",height:"100%",textAlign:"center",color:"#fff",fontWeight:"bold",borderRadius:"4px",padding:"5px"},children:e.row.RespiratoryStatus})},{key:"sbp_status",name:"SBP Status",renderCell:e=>(0,p.jsx)("div",{style:{backgroundColor:_(e.row.sbp_status),width:"100%",height:"100%",textAlign:"center",color:"#fff",fontWeight:"bold",borderRadius:"4px",padding:"5px"},children:e.row.sbp_status})},{key:"SupplementalOxygen_status",name:"Supplemental Oxygen Status",renderCell:e=>(0,p.jsx)("div",{style:{backgroundColor:_(e.row.SupplementalOxygen_status),width:"100%",height:"100%",textAlign:"center",color:"#fff",fontWeight:"bold",borderRadius:"4px",padding:"5px"},children:e.row.SupplementalOxygen_status})},{key:"LevelOfConsiousness_Status",name:"Level of Consciousness Status",renderCell:e=>(0,p.jsx)("div",{style:{backgroundColor:_(e.row.LevelOfConsiousness_Status),width:"100%",height:"100%",textAlign:"center",color:"#fff",fontWeight:"bold",borderRadius:"4px",padding:"5px"},children:e.row.LevelOfConsiousness_Status})},{key:"CapillaryRefillTime_Status",name:"Capillary Refill Time Status",renderCell:e=>(0,p.jsx)("div",{style:{backgroundColor:_(e.row.CapillaryRefillTime_Status),width:"100%",height:"100%",textAlign:"center",color:"#fff",fontWeight:"bold",borderRadius:"4px",padding:"5px"},children:e.row.CapillaryRefillTime_Status})}],L=null===g||void 0===g?void 0:g.DOB,T=L?(e=>{const t=new Date(e),n=new Date;let a=n.getFullYear()-t.getFullYear();const l=n.getMonth()-t.getMonth();return(l<0||0===l&&n.getDate()<t.getDate())&&a--,a})(L):null,H=y.length>0?(I=y[y.length-1],["LevelOfConsiousness_Status","RespiratoryStatus","SupplementalOxygen_status","heartrate_status","temperature_status","spo2_status","sbp_status","CapillaryRefillTime_Status"].reduce(((e,t)=>{const n=I[t];return e+(null!==n?n:0)}),0)):0;var I;const M=null!==T?((e,t)=>t>=16?e>=0&&e<=4?"Low":e>=5&&e<=6?"Medium":e>=7&&e<=21?"High":"Unknown":e>=0&&e<=2?"Low":e>=3&&e<=5?"Medium":e>=6&&e<=12?"High":"Unknown")(H,T):"Unknown";console.log(H,"totalScore");return(0,p.jsx)("div",{className:"new-patient-registration-form",children:(0,p.jsxs)("div",{className:"RegisFormcon_1",children:[(0,p.jsx)("div",{style:{width:"100%",display:"grid",placeItems:"center"},children:(0,p.jsxs)(u.A,{value:f,exclusive:!0,onChange:e=>{v(e.target.value)},"aria-label":"Platform",children:[(0,p.jsx)(c.A,{value:"Vital",style:{height:"30px",width:"100px",backgroundColor:"Vital"===f?"var(--selectbackgroundcolor)":"inherit"},className:"togglebutton_container",children:"Vital"}),(0,p.jsx)(c.A,{value:"NewsScore",style:{backgroundColor:"NewsScore"===f?"var(--selectbackgroundcolor)":"inherit",width:"100px",height:"30px"},className:"togglebutton_container",children:"NewsScore"})]})}),"Vital"===f?Object.keys(m).map(((e,t)=>{return(0,p.jsxs)("div",{className:"RegisForm_1",children:[(0,p.jsxs)("label",{htmlFor:"".concat(e,"_").concat(t),children:[(n=e,/[a-z]/.test(n)&&/[A-Z]/.test(n)&&!/\d/.test(n)?n.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/^./,(e=>e.toUpperCase())):n)," ",(0,p.jsx)("span",{children:":"})]}),"SupplementalOxygen"===e?(0,p.jsxs)("select",{id:"".concat(e,"_").concat(t),name:e,value:m[e],onChange:B,children:[(0,p.jsx)("option",{value:"",children:"Select"}),(0,p.jsx)("option",{value:"Yes",children:"Yes"}),(0,p.jsx)("option",{value:"No",children:"No"})]}):"LevelOfConsiousness"===e?(0,p.jsxs)("select",{id:"".concat(e,"_").concat(t),name:e,value:m[e],onChange:B,children:[(0,p.jsx)("option",{value:"",children:"Select"}),(0,p.jsx)("option",{value:"Alert",children:"Alert"}),(0,p.jsx)("option",{value:"Responsive to Voice",children:"V - Responsive to Voice"}),(0,p.jsx)("option",{value:"Responsive to Pain",children:"P - Responsive to Pain"}),(0,p.jsx)("option",{value:"Unresponsive",children:"U - Unresponsive"})]}):"CapillaryRefillTime"===e?(0,p.jsxs)("select",{id:"".concat(e,"_").concat(t),name:e,value:m[e],onChange:B,children:[(0,p.jsx)("option",{value:"",children:"Select"}),(0,p.jsx)("option",{value:"under 2 seconds",children:"under 2 seconds"}),(0,p.jsx)("option",{value:"3 to 4 seconds",children:"3-4 seconds"}),(0,p.jsxs)("option",{value:"greaterthan 4 seconds",children:[" ",">4 seconds"]})]}):(0,p.jsx)("input",{id:"".concat(e,"_").concat(t),autoComplete:"off",type:"Date"===e?"date":"Time"===e?"time":"text",name:e,value:m[e],onChange:B})]},e);var n})):"NewsScore"===f?(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center",marginLeft:"20%",justifyContent:"center"},children:[P("minhigh"),"Min High",P("minmedium"),"Min Medium",P("minlow"),"Min Low",P("normal"),"Normal",P("maxlow"),"Max Low",P("maxmedium"),"Max Medium",P("maxhigh"),"Max High"]}):null,(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsxs)("div",{className:"Main_container_Btn",children:[w&&(0,p.jsx)("button",{onClick:A,children:"Clear"}),!w&&"Vital"===f&&(0,p.jsx)("button",{onClick:()=>{console.log(null===g||void 0===g?void 0:g.RegistrationId);const n={Temperature:m.Temperature||null,PulseRate:m.PulseRate||null,SPO2:m.SPO2||null,HeartRate:m.HeartRate||null,RespiratoryRate:m.RespiratoryRate||null,SBP:m.SBP||null,DBP:m.DBP||null,Height:m.Height||null,Weight:m.Weight||null,BMI:m.BMI||null,WC:m.WC||null,HC:m.HC||null,BSL:m.BSL||null,Painscore:m.Painscore||null,SupplementalOxygen:m.SupplementalOxygen||"",LevelOfConsiousness:m.LevelOfConsiousness||"",CapillaryRefillTime:m.CapillaryRefillTime||"",RegistrationId:null===g||void 0===g?void 0:g.RegistrationId,Createdby:null===h||void 0===h?void 0:h.username,Type:"Doctor"};console.log(n,"senddata"),o.A.post("".concat(t,"Ip_Workbench/IP_Vitals_Form_Details_Link"),n).then((t=>{const[n,a]=[Object.keys(t.data)[0],Object.values(t.data)[0]];e({type:"toast",value:{message:a,type:n}}),R((e=>!e)),A()})).catch((e=>console.log(e)))},children:"Submit"})]}),(0,p.jsx)("br",{}),"Vital"===f&&(0,p.jsx)("div",{style:{display:"flex",alignItems:"center",marginLeft:"0%",textAlign:"center",marginTop:"20px"},children:(0,p.jsxs)("h2",{children:["EWS Score: ",H," (",M,")"]})}),"Vital"===f&&y.length>0&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(r.A,{columns:O,RowData:y})}),"NewsScore"===f&&y.length>0&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(r.A,{columns:D,RowData:y})}),(0,p.jsx)(s.A,{Message:n.message,Type:n.type})]})})}}}]);
//# sourceMappingURL=6519.62a5be19.chunk.js.map