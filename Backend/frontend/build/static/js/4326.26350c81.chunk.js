"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[4326],{4326:(e,a,o)=>{o.r(a),o.d(a,{default:()=>u});var t=o(5043),n=o(3003),s=o(6133),r=o(1906),i=o(5502),l=o(9778),c=o(6213),d=o(6324),m=o(579);const u=()=>{const e=(0,n.d4)((e=>{var a;return null===(a=e.Frontoffice)||void 0===a?void 0:a.IP_DoctorWorkbenchNavigation})),[a,o]=(0,t.useState)(null),u=(0,n.d4)((e=>{var a;return null===(a=e.userRecord)||void 0===a?void 0:a.UrlLink})),v=(0,n.d4)((e=>{var a;return null===(a=e.userRecord)||void 0===a?void 0:a.UserData})),R=(0,n.d4)((e=>{var a;return null===(a=e.userRecord)||void 0===a?void 0:a.toast})),[y,p]=(0,t.useState)(!1),[h,N]=(0,t.useState)({status:!1,type:"",RoomId:""}),[k,f]=(0,t.useState)({PatientFileRecieved:!1,MedicineTransfered:!1,AnyMedicalRecordError:!1,ConfirmationFromRelatives:!1,RelativeName:"",Reason:""}),x=(0,n.wA)();(0,t.useEffect)((()=>{o(null),c.A.get("".concat(u,"Frontoffice/get_ip_roomdetials_for_bedtransfer_details?RegistrationId=").concat(null===e||void 0===e?void 0:e.RegistrationId)).then((e=>{const a=e.data;o(a)})).catch((e=>{o(null),console.log(e)}))}),[u,e,y]);const j=[{key:"DateTime",name:"DateTime",frozen:!0},{key:"Status",name:"Status",frozen:!0},{key:"Action",name:"Action",frozen:!0,width:200,renderCell:e=>"Requested"===e.row.Status?(0,m.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,m.jsx)(r.A,{className:"cell_btn",onClick:()=>_(e.row),title:"Approve the transfer request",children:(0,m.jsx)(l.A,{className:"check_box_clrr_cancell"})}),(0,m.jsx)(r.A,{className:"cell_btn",onClick:()=>g(e.row),title:"Cancel the transfer request",children:(0,m.jsx)(i.A,{className:"check_box_clrr_cancell"})})]}):"No Action"},{key:"Admitted_Date",name:"In Time"},{key:"Discharge_Date",name:"Out Time"},{key:"BuildingName",name:"Building Name"},{key:"BlockName",name:"Block Name"},{key:"FloorName",name:"Floor Name"},{key:"WardName",name:"Ward Name"},{key:"RoomName",name:"Room Name"},{key:"RoomNo",name:"Room No"},{key:"BedNo",name:"Bed No"},{key:"RoomId",name:"Room Id"}],_=e=>{N({status:!0,type:"Approve",RoomId:null===e||void 0===e?void 0:e.RoomId})},g=e=>{N({status:!0,type:"Cancel",RoomId:null===e||void 0===e?void 0:e.RoomId})};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"new-patient-registration-form",children:[(0,m.jsx)("br",{}),(0,m.jsx)("div",{className:"DivCenter_container",children:"Bed Request Approve / Cancel"}),(0,m.jsx)("br",{}),(0,m.jsx)("div",{className:"DivCenter_container",children:" current Room "}),(null===a||void 0===a?void 0:a.ip_register_data)&&(0,m.jsx)(s.A,{columns:[{key:"DateTime",name:"DateTime",frozen:!0},{key:"BuildingName",name:"Building Name"},{key:"BlockName",name:"Block Name"},{key:"FloorName",name:"Floor Name"},{key:"WardName",name:"Ward Name"},{key:"RoomName",name:"Room Name"},{key:"RoomNo",name:"Room No"},{key:"BedNo",name:"Bed No"},{key:"RoomId",name:"Room Id"}],RowData:null===a||void 0===a?void 0:a.ip_register_data}),(0,m.jsx)("br",{}),(0,m.jsx)("div",{className:"DivCenter_container",children:" Requested Room "}),(0,m.jsx)("br",{}),(0,m.jsx)(s.A,{columns:j,RowData:null===a||void 0===a?void 0:a.Roomsdata})]}),(null===h||void 0===h?void 0:h.status)&&(0,m.jsx)("div",{className:"modal-container",onClick:()=>N((e=>({...e,status:!1}))),children:(0,m.jsxs)("div",{className:"App_Cal_modal",onClick:e=>e.stopPropagation(),children:[(0,m.jsx)("div",{className:"common_center_tag",children:(0,m.jsxs)("span",{children:[h.type," Request"]})}),(0,m.jsx)("br",{}),(0,m.jsxs)("div",{className:"RegisFormcon_1",children:[Object.keys(k).filter((e=>"Cancel"===h.type?"Reason"===e:k.AnyMedicalRecordError?e:"Reason"!==e)).map(((e,a)=>{return(0,m.jsxs)("div",{className:"RegisForm_1",children:[(0,m.jsxs)("label",{htmlFor:"".concat(e,"_").concat(a),children:[(o=e,/[a-z]/.test(o)&&/[A-Z]/.test(o)&&!/\d/.test(o)?o.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/^./,(e=>e.toUpperCase())):o),(0,m.jsx)("span",{children:":"})," "]}),"Reason"===e?(0,m.jsx)("textarea",{id:"".concat(e,"_").concat(a),autoComplete:"off",name:e,required:!0,value:k[e],onChange:a=>f((o=>({...o,[e]:a.target.value})))}):"RelativeName"===e?(0,m.jsx)("input",{id:"".concat(e,"_").concat(a),autoComplete:"off",type:"text",name:e,value:k[e],onChange:a=>f((o=>({...o,[e]:a.target.value})))}):(0,m.jsx)("div",{style:{display:"flex",justifyContent:"space-between",width:"150px"},children:(0,m.jsx)("input",{id:"".concat(e,"_check_yes"),type:"checkbox",name:e,style:{width:"15px"},checked:k[e],onChange:a=>f((a=>({...a,[e]:!a[e]})))})})]},a);var o})),(0,m.jsx)("div",{className:"Main_container_Btn",children:(0,m.jsx)("button",{onClick:()=>{const a=Object.keys(k).filter((e=>"Cancel"===h.status?"Reason"===e:k.AnyMedicalRecordError?"AnyMedicalRecordError"!==e:!["AnyMedicalRecordError","Reason"].includes(e))).filter((e=>!k[e]));if(0!==a.length)x({type:"toast",value:{message:"Please fill the required fields : ".concat(a.join(" , ")),type:"warn"}});else{if(window.confirm("Are You sure, need to approve the request")){const a={RegistrationId:null===e||void 0===e?void 0:e.RegistrationId,Type:h.type,RoomId:null===h||void 0===h?void 0:h.RoomId,...k,createdby:null===v||void 0===v?void 0:v.username};c.A.post("".concat(u,"Frontoffice/bed_transfer_approve_cancel_details"),a).then((e=>{const a=e.data;let o=Object.keys(a)[0];const t={message:Object.values(a)[0],type:o};p((e=>!e)),x({type:"toast",value:t}),N({status:!1,type:"",RoomId:""}),f({PatientFileRecieved:!1,MedicineTransfered:!1,AnyMedicalRecordError:!1,ConformationFromRelatives:!1,RelativeName:"",Reason:""})})).catch((e=>{console.log(e)}))}}},children:"Save"})})]})]})}),(0,m.jsx)(d.A,{Message:R.message,Type:R.type})]})}},9778:(e,a,o)=>{var t=o(4994);a.A=void 0;var n=t(o(39)),s=o(579);a.A=(0,n.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")}}]);
//# sourceMappingURL=4326.26350c81.chunk.js.map