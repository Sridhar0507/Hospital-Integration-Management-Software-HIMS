"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6427],{6427:(e,s,t)=>{t.r(s),t.d(s,{default:()=>r});var o=t(5043),a=t(6213),d=t(3003),l=t(6133),i=t(6324),n=t(184),c=t(1906),m=t(579);const r=()=>{const[e,s]=(0,o.useState)(!1),[t,r]=(0,o.useState)([]),u=(0,d.d4)((e=>{var s;return null===(s=e.userRecord)||void 0===s?void 0:s.UrlLink})),T=(0,d.d4)((e=>{var s;return null===(s=e.userRecord)||void 0===s?void 0:s.UserData})),g=(0,d.d4)((e=>{var s;return null===(s=e.userRecord)||void 0===s?void 0:s.toast})),y=(0,d.d4)((e=>{var s;return null===(s=e.Frontoffice)||void 0===s?void 0:s.DoctorWorkbenchNavigation}));console.log("ss",y);const N=(0,d.wA)();(0,o.useEffect)((()=>{a.A.get("".concat(u,"Masters/Radiology_details_link_view")).then((e=>{const s=e.data;console.log("testnameasas",s),r(s)})).catch((e=>{console.log(e)}))}),[e,u]);const[h,b]=(0,o.useState)([]),[R,S]=(0,o.useState)([]);console.log("CheckedTestName",h),console.log("SubtestNo",R);const _=[{key:"id",name:"S.No",frozen:!0},{key:"TestCode",name:"Test Code",frozen:!0},{key:"RadiologyName",name:"Radiology Name",frozen:!0},{key:"TestName",name:"Test Name",frozen:!0},{key:"Action",name:"Action",renderCell:e=>(0,m.jsx)(c.A,{className:"cell_btn",onClick:()=>(e=>{const s=R.filter((s=>s.testid!==e.testid||s.Radiologyid!==e.Radiologyid));S(s)})(e.row),children:(0,m.jsx)(n.qbC,{className:"check_box_clrr_cancell"})})}],p=[{key:"id",name:"S.No ",frozen:!0},{key:"RadiologyName",name:"RadiologyName",frozen:!0},{key:"TestCode",name:"Test Code"},{key:"TestName",name:"Test Name"},{key:"SubTestName",name:"Sub TestName"},{key:"Amount",name:"Amount"},{key:"Action",name:"Action",renderCell:e=>(0,m.jsx)(c.A,{className:"cell_btn",onClick:()=>(e=>{const{row:s}=e,t=h.filter((e=>e.Radiologyid!==s.Radiologyid||e.TestCode!==s.TestCode||e.SubTest_Code!==s.SubTest_Code));b(t);const o=R.filter((e=>e.Radiologyid!==s.Radiologyid||e.TestCode!==s.TestCode));S(o)})(e),children:(0,m.jsx)(n.qbC,{className:"check_box_clrr_cancell"})})}],C=(e=>e.map(((e,s)=>({Radiologyid:e.Radiologyid,RadiologyName:e.RadiologyName,TestCode:e.TestCode,TestName:e.TestName,testid:e.testid,Subtestid:e.Subtestid,Amount:e.Amount,SubTestName:e.SubTestName,SubTest_Code:e.SubTest_Code,id:s+1}))))(h),x=(e=>e.map(((e,s)=>({Radiologyid:e.Radiologyid,RadiologyName:e.RadiologyName,TestCode:e.TestCode,TestName:e.TestName,testid:e.testid,id:s+1}))))(R),[k,f]=(0,o.useState)({RadiologyTestId:"",CheckedTestNameArr:"",SubtestNoArr:""}),[v,j]=(0,o.useState)(!1),[A,z]=(0,o.useState)([]),[w,F]=(0,o.useState)([]);(0,o.useEffect)((()=>{const e={Register_Id:y.pk,RegisterType:"OP"};a.A.get("".concat(u,"OP/Radiology_Request_Detailslink"),{params:e}).then((e=>{const s=e.data;console.log("response117655",s),F(null===s||void 0===s?void 0:s.IsSubTestYes),z(null===s||void 0===s?void 0:s.IsSubTestNo)})).catch((e=>{console.log(e)}))}),[v,u,y.RegistrationId]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"common_center_tag",children:(0,m.jsx)("span",{children:"Radiology TestName"})}),(0,m.jsx)("div",{className:"displayuseraccess",children:t.map((e=>(0,m.jsxs)("div",{className:"displayuseraccess_child",children:[(0,m.jsx)("label",{htmlFor:e.id,style:{fontSize:"20px",fontWeight:"bold"},className:"par_acc_lab",children:e.RadiologyName}),e.TestNames.filter((e=>"No"===e.Types)).map((s=>(0,m.jsxs)("div",{style:{marginLeft:"20px",marginTop:"5px"},children:[(0,m.jsx)("input",{type:"checkbox",id:s.id,onChange:()=>((e,s,t,o,a,d,l)=>{if(R.some((e=>e.TestCode===d))){const e=R.filter((e=>e.TestCode!==d));S(e)}else{const i=[...R,{Radiologyid:o,RadiologyName:a,testid:s,TestName:t,Curr_Amount:e,TestCode:d,SubTestType:l}];S(i)}})(s.Curr_Amount,s.id,s.TestName,e.id,e.RadiologyName,s.TestCode,s.Types),checked:R.some((e=>e.TestCode===s.TestCode)),style:{marginRight:"10px"}}),(0,m.jsx)("label",{htmlFor:s.id,className:"chi_acc_lab",children:s.TestName})]},s.id))),e.TestNames.filter((e=>"Yes"===e.Types)).map((s=>(0,m.jsxs)("div",{className:"displayuseraccess_child",children:[(0,m.jsx)("label",{htmlFor:s.id,style:{fontSize:"16px",fontWeight:"bold"},className:"par_acc_lab",children:s.TestName}),s.Sub_test_data&&s.Sub_test_data.map((t=>(0,m.jsxs)("div",{style:{marginLeft:"20px",marginTop:"5px"},children:[(0,m.jsx)("input",{type:"checkbox",id:t.SubTest_Code,onChange:()=>((e,s,t,o,a,d,l,i,n,c)=>{if(h.some((e=>e.SubTest_Code===s&&e.testid===a))){const e=h.filter((e=>!(e.SubTest_Code===s&&e.testid===a)));b(e)}else{const m=[...h,{Radiologyid:i,RadiologyName:n,testid:a,TestName:d,TestCode:l,Subtestid:e,SubTest_Code:s,TestCode:l,SubTestName:t,SubTestType:c,Amount:o}];b(m)}})(t.id,t.SubTest_Code,t.SubTestName,t.Amount,s.id,s.TestName,s.TestCode,e.id,e.RadiologyName,s.Types),checked:h.some((e=>e.SubTest_Code===t.SubTest_Code)),style:{marginRight:"10px"}}),(0,m.jsx)("label",{htmlFor:t.SubTest_Code,style:{fontSize:"16px",color:"#555"},children:t.SubTestName})]},t.id)))]},s.id)))]},e.id)))}),x.length>0&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"common_center_tag",children:(0,m.jsx)("span",{children:"Selected TestName"})}),(0,m.jsx)(l.A,{columns:_,RowData:x})]}),C.length>0&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"common_center_tag",children:(0,m.jsx)("span",{children:"Selected SubTest Name"})}),(0,m.jsx)(l.A,{columns:p,RowData:C})]}),(0,m.jsx)("div",{className:"Main_container_Btn",children:(0,m.jsx)("button",{onClick:()=>{if(h.length>0||R.length>0){const e={RadiologyTestId:k.RadiologyTestId,CheckedTestNameArr:h,SubtestNoArr:R,created_by:(null===T||void 0===T?void 0:T.username)||"",Register_Id:(null===y||void 0===y?void 0:y.pk)||"",RegisterType:"OP"};console.log("data",e),a.A.post("".concat(u,"OP/Radiology_Request_Detailslink"),e).then((e=>{const s=e.data,t=Object.keys(s)[0],o=Object.values(s)[0];N({type:"toast",value:{message:o,type:t}}),j((e=>!e)),f({RadiologyTestId:"",CheckedTestNameArr:[],SubtestNoArr:[]}),b([]),S([])})).catch((e=>{console.log(e)}))}else{N({type:"toast",value:{message:"Please Select TestNames .",type:"warn"}})}},children:"save"})}),(null===w||void 0===w?void 0:w.length)>0&&(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(l.A,{columns:[{key:"id",name:"S.No",frozen:!0},{key:"RadiologyName",name:"Radiology Name",frozen:!0},{key:"TestName",name:"TestName",frozen:!0},{key:"SubTestName",name:"Sub TestName",frozen:!0}],RowData:w})}),(null===A||void 0===A?void 0:A.length)>0&&(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(l.A,{columns:[{key:"id",name:"S.No",frozen:!0},{key:"RadiologyName",name:"Radiology Name",frozen:!0},{key:"TestName",name:"Test Name",frozen:!0}],RowData:A})}),(0,m.jsx)(i.A,{Message:g.message,Type:g.type})]})}}}]);
//# sourceMappingURL=6427.d90c9526.chunk.js.map