"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[7],{1007:(e,a,n)=>{n.r(a),n.d(a,{default:()=>m});var t=n(5043),o=n(3003),s=n(6213),i=n(6324),l=n(7392),r=n(7260),c=n(6133),d=n(2345),p=n(579);const m=()=>{const e=(0,o.d4)((e=>{var a;return null===(a=e.userRecord)||void 0===a?void 0:a.UrlLink})),a=(0,o.d4)((e=>{var a;return null===(a=e.userRecord)||void 0===a?void 0:a.UserData})),n=(0,o.d4)((e=>{var a;return null===(a=e.userRecord)||void 0===a?void 0:a.toast})),m=(0,o.wA)(),h=(0,o.d4)((e=>{var a;return null===(a=e.Frontoffice)||void 0===a?void 0:a.DoctorWorkbenchNavigation})),[u,g]=(0,t.useState)({cheifComplaint:"",History:"",Examine:"",Diagnosis:"",ChooseDocument:null}),[x,y]=(0,t.useState)([]),[v,f]=(0,t.useState)(!1),[j,C]=(0,t.useState)(!1),D=[{key:"id",name:"S.No",frozen:!0},{key:"VisitId",name:"VisitId",frozen:!0},{key:"PrimaryDoctorId",name:"Doctor Id",frozen:!0},{key:"PrimaryDoctorName",name:"Doctor Name",frozen:!0},{key:"Date",name:"Date",frozen:!0},{key:"Time",name:"Time",frozen:!0},{key:"view",name:"View",frozen:!0,renderCell:e=>(0,p.jsx)(l.A,{onClick:()=>k(e.row),children:(0,p.jsx)(r.A,{})})}];(0,t.useEffect)((()=>{s.A.get("".concat(e,"Workbench/Workbench_GeneralEvaluation_Details"),{params:{RegistrationId:null===h||void 0===h?void 0:h.pk}}).then((e=>{const a=e.data;console.log(e),y(a)})).catch((e=>{console.log(e)}))}),[v,e,h]);const b=e=>{const{name:a,value:n}=e.target;console.log(a,n,"-------"),g((e=>({...e,[a]:n})))},k=e=>{g({cheifComplaint:e.cheifComplaint||"",History:e.History||"",Examine:e.Examine||"",Diagnosis:e.Diagnosis||"",ChooseDocument:e.ChooseDocument||null}),C(!0)},_=()=>{g({cheifComplaint:"",History:"",Examine:"",Diagnosis:"",ChooseDocument:null}),C(!1)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"appointment",children:[(0,p.jsxs)("div",{className:"treatcon_body_1 txtWidth",children:[(0,p.jsxs)("label",{children:["Cheif Complaint ",(0,p.jsx)("span",{children:":"})]}),(0,p.jsx)("textarea",{id:"cheifComplaint",name:"cheifComplaint",value:u.cheifComplaint,onChange:b})]}),(0,p.jsxs)("div",{className:"treatcon_body_1 txtWidth",children:[(0,p.jsxs)("label",{children:["History ",(0,p.jsx)("span",{children:":"})]}),(0,p.jsx)("textarea",{id:"History",name:"History",value:u.History,onChange:b})]}),(0,p.jsxs)("div",{className:"treatcon_body_1 txtWidth",children:[(0,p.jsxs)("label",{children:["Examination ",(0,p.jsx)("span",{children:":"})]}),(0,p.jsx)("textarea",{id:"Examine",name:"Examine",value:u.Examine,onChange:b})]}),(0,p.jsxs)("div",{className:"treatcon_body_1 txtWidth",children:[(0,p.jsxs)("label",{children:["Diagnosis ",(0,p.jsx)("span",{children:":"})]}),(0,p.jsx)("textarea",{id:"Diagnosis",name:"Diagnosis",value:u.Diagnosis,onChange:b})]}),(0,p.jsxs)("div",{className:"treatcon_body_1 txtWidth",children:[(0,p.jsxs)("label",{children:["Choose Document ",(0,p.jsx)("span",{children:":"})]}),(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,p.jsx)("input",{type:"file",name:"ChooseDocument",accept:"image/jpeg, image/png, application/pdf",required:!0,id:"ChooseDocument",autoComplete:"off",onChange:e=>{const{name:a,files:n}=e.target;if(n&&n.length>0){const e=n[0],t=5242880;if(["application/pdf","image/jpeg","image/png"].includes(e.type)&&""!==e.type)if(e.size>t){m({type:"toast",value:{message:"File size exceeds the limit of 5MB.",type:"warn"}})}else{const n=new FileReader;n.onload=()=>{g((e=>({...e,[a]:n.result})))},n.readAsDataURL(e)}else{m({type:"toast",value:{message:"Invalid file type. Please upload a PDF, JPEG, or PNG file.",type:"warn"}})}}else{m({type:"toast",value:{message:"No file selected. Please choose a file to upload.",type:"warn"}})}},style:{display:"none"}}),(0,p.jsxs)("div",{style:{width:"150px",display:"flex",justifyContent:"space-around"},children:[(0,p.jsx)("label",{htmlFor:"ChooseDocument",className:"RegisterForm_1_btns choose_file_update",children:"Choose File"}),(0,p.jsx)("button",{className:"fileviewbtn",onClick:()=>(e=>{if(e){let a={Isopen:!1,content:null,type:"image/jpg"};["data:image/jpeg;base64","data:image/jpg;base64"].includes(null===e||void 0===e?void 0:e.split(",")[0])?a={Isopen:!0,content:e,type:"image/jpeg"}:"data:image/png;base64"===(null===e||void 0===e?void 0:e.split(",")[0])?a={Isopen:!0,content:e,type:"image/png"}:"data:application/pdf;base64"===(null===e||void 0===e?void 0:e.split(",")[0])&&(a={Isopen:!0,content:e,type:"application/pdf"}),m({type:"modelcon",value:a})}else m({type:"toast",value:{message:"There is no file to view.",type:"warn"}})})(u.ChooseDocument),children:"View"})]})]})]})]}),(0,p.jsxs)("div",{className:"Main_container_Btn",children:[j&&(0,p.jsx)("button",{onClick:_,children:"Clear"}),!j&&(0,p.jsx)("button",{onClick:async()=>{const n=new FormData;console.log(FormData,"formData"),n.append("cheifComplaint",u.cheifComplaint),n.append("History",u.History),n.append("Examine",u.Examine),n.append("Diagnosis",u.Diagnosis),u.ChooseDocument&&n.append("ChooseDocument",u.ChooseDocument),console.log(u.ChooseDocument),n.append("RegistrationId",null===h||void 0===h?void 0:h.pk),n.append("Createdby",null===a||void 0===a?void 0:a.username);try{const a=await s.A.post("".concat(e,"Workbench/Workbench_GeneralEvaluation_Details"),n,{headers:{"Content-Type":"multipart/form-data"}}),[t,o]=[Object.keys(a.data)[0],Object.values(a.data)[0]];m({type:"toast",value:{message:o,type:t}}),f((e=>!e)),_()}catch(t){console.error(t)}},children:"Submit"})]}),x.length>0&&(0,p.jsx)(c.A,{columns:D,RowData:x}),(0,p.jsx)(i.A,{Message:n.message,Type:n.type}),(0,p.jsx)(d.A,{})]})}}}]);
//# sourceMappingURL=7.7e3c735f.chunk.js.map