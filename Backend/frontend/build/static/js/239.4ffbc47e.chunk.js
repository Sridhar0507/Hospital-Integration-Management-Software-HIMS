"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[239],{239:(e,o,t)=>{t.r(o),t.d(o,{default:()=>d});var a=t(5043),s=t(3003),r=t(6213),n=t(6324),c=t(6133),i=t(579);const d=()=>{const e=(0,s.d4)((e=>{var o;return null===(o=e.Frontoffice)||void 0===o?void 0:o.DoctorWorkbenchNavigation}));console.log("DoctorWorkbenchNavigation",e);const o=(0,s.d4)((e=>{var o;return null===(o=e.userRecord)||void 0===o?void 0:o.toast})),t=(0,s.d4)((e=>{var o;return null===(o=e.userRecord)||void 0===o?void 0:o.UserData}));console.log("userRecord",t);const d=(0,s.d4)((e=>{var o;return null===(o=e.userRecord)||void 0===o?void 0:o.UrlLink})),l=(0,s.wA)(),m=e.DoctorName;console.log("1234",m);const[u,v]=(0,a.useState)({ReferId:"",doctorType:"InHouse",doctorName:"",remarks:""}),[p,h]=(0,a.useState)([]),[g,j]=(0,a.useState)(!1),[x,y]=(0,a.useState)([]),D=e=>{const{name:o,value:t}=e.target;v((e=>({...e,[o]:t})))};(0,a.useEffect)((()=>{r.A.get("".concat(d,"Masters/inhouse_doctor_details"),{params:{Doctortype:u.doctorType,DoctorID:m}}).then((e=>{console.log("Response data:",e.data),h(e.data)})).catch((e=>{console.log(e)}))}),[u.doctorType,m,d]);(0,a.useEffect)((()=>{null!==e&&void 0!==e&&e.PatientId&&null!==e&&void 0!==e&&e.VisitId&&r.A.get("".concat(d,"OP/ReferDoctor_Details_link"),{params:{PatientId:e.PatientId,VisitId:e.VisitId}}).then((e=>{const o=e.data;y(o),console.log("getrefer",o)})).catch((e=>{console.error(e)}))}),[g,d,e]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"new-patient-registration-form",children:[(0,i.jsx)("br",{}),(0,i.jsxs)("div",{className:"RegisFormcon_1",children:[(0,i.jsxs)("div",{className:"RegisForm_1",children:[(0,i.jsxs)("label",{htmlFor:"doctorType",children:["Doctor Type",(0,i.jsx)("span",{children:":"})]}),(0,i.jsxs)("select",{id:"doctorType",name:"doctorType",value:u.doctorType,onChange:D,children:[(0,i.jsx)("option",{value:"InHouse",children:"InHouse"}),(0,i.jsx)("option",{value:"Visiting",children:"Visiting"})]})]}),(0,i.jsxs)("div",{className:"RegisForm_1",children:[(0,i.jsxs)("label",{children:["Doctor Name ",(0,i.jsx)("span",{children:":"})]}),(0,i.jsx)("input",{type:"text",list:"doctorNameOptions",id:"doctorName",name:"doctorName",value:u.doctorName,onChange:D,autoComplete:"off"}),(0,i.jsx)("datalist",{id:"doctorNameOptions",children:p.map(((e,o)=>(0,i.jsx)("option",{value:e.DoctorID,children:"".concat(e.DoctorID," - ").concat(e.ShortName," (").concat(e.SpecialityName,")")},o)))})]}),(0,i.jsxs)("div",{className:"RegisForm_1",children:[(0,i.jsxs)("label",{children:["Remarks ",(0,i.jsx)("span",{children:":"})]}),(0,i.jsx)("textarea",{id:"remarks",name:"remarks",value:u.remarks,onChange:D})]})]}),(0,i.jsx)("br",{}),(0,i.jsxs)("div",{className:"Main_container_Btn",children:[(0,i.jsx)("button",{onClick:()=>{if(""!==u.doctorName){const o={...u,created_by:(null===t||void 0===t?void 0:t.username)||"",PatientId:(null===e||void 0===e?void 0:e.PatientId)||"",VisitId:(null===e||void 0===e?void 0:e.VisitId)||"",DoctorID:(null===e||void 0===e?void 0:e.DoctorName)||""};r.A.post("".concat(d,"OP/ReferDoctor_Details_link"),o).then((e=>{const o=e.data;console.log(o);const t=Object.keys(o)[0],a=Object.values(o)[0];l({type:"toast",value:{message:a,type:t}}),j((e=>!e)),v({ReferId:"",doctorType:"",doctorName:"",remarks:""})})).catch((e=>{console.log(e)}))}else{l({type:"toast",value:{message:"Please select doctorname .",type:"warn"}})}},children:u.ReferId?"Update":"Save"}),(0,i.jsx)(n.A,{Message:o.message,Type:o.type})]}),x.length>0&&(0,i.jsx)(c.A,{columns:[{key:"id",name:"S.No",frozen:!0},{key:"PrimaryDoctorName",name:"Primary Doctor"},{key:"ReferDoctorName",name:"Refering Doctor"}],RowData:x})]})})}}}]);
//# sourceMappingURL=239.4ffbc47e.chunk.js.map