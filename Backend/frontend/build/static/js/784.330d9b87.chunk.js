"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[784],{2784:(e,s,a)=>{a.r(s),a.d(s,{default:()=>u});var t=a(5043),n=a(6213),o=a(6133),l=a(6324),i=a(3003),c=a(7260),r=a(1906),d=a(184),m=a(579);const u=()=>{const e=(0,i.d4)((e=>{var s;return null===(s=e.userRecord)||void 0===s?void 0:s.UrlLink})),s=(0,i.d4)((e=>{var s;return null===(s=e.userRecord)||void 0===s?void 0:s.UserData})),a=(0,i.d4)((e=>{var s;return null===(s=e.userRecord)||void 0===s?void 0:s.toast})),u=(0,i.wA)(),v=(0,i.d4)((e=>{var s;return null===(s=e.Frontoffice)||void 0===s?void 0:s.DoctorWorkbenchNavigation})),[h,T]=(0,t.useState)({LabQueueId:"",IndivitualArr:"",FavouritesArr:""}),[g,p]=(0,t.useState)("Individual"),[N,x]=(0,t.useState)([]),[y,j]=(0,t.useState)([]),[_,k]=(0,t.useState)([]),[f,F]=(0,t.useState)([]);console.log("indivitualChecked",_),console.log("FavouriteChecked",f),(0,t.useEffect)((()=>{n.A.get("".concat(e,"Masters/Test_Names_link_LabTest")).then((e=>{x(e.data)})).catch((e=>{console.log(e)}))}),[e]),(0,t.useEffect)((()=>{n.A.get("".concat(e,"Masters/Favourites_Names_link")).then((e=>{j(e.data)})).catch((e=>{console.log(e)}))}),[e]);const C=[{key:"id",name:"S.No",frozen:!0},{key:"TestCode",name:"Test Code",frozen:!0},{key:"TestName",name:"Test Name",frozen:!0},{key:"Action",name:"Action",renderCell:e=>(0,m.jsx)(r.A,{className:"cell_btn",onClick:()=>(e=>{console.log("row123",e);const s=_.filter((s=>s.id!==e.TestCode));k(s)})(e.row),children:(0,m.jsx)(d.qbC,{className:"check_box_clrr_cancell"})})}],b=(e=>e.flatMap(((e,s)=>e.TestDetails.map(((a,t)=>({FavouriteName:e.FavouriteName,TestCode:a.TestCode,TestName:a.TestName,id:"".concat(s+1,"-").concat(t+1)}))))))(f),I=(e=>e.map(((e,s)=>({TestCode:e.id,TestName:e.Test_Name,id:s+1}))))(_),[A,w]=(0,t.useState)(!1),[S,R]=(0,t.useState)([]),[D,L]=(0,t.useState)([]),[z,M]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const s={Register_Id:v.RegistrationId};n.A.get("".concat(e,"OP/Lab_Request_Detailslink"),{params:s}).then((e=>{const s=e.data;console.log("response1234",s);const a=s.sort(((e,s)=>"Individual"===e.TestType&&"Individual"!==s.TestType?-1:"Individual"!==e.TestType&&"Individual"===s.TestType?1:0));R(a)})).catch((e=>{console.log(e)}))}),[A,e,v.RegistrationId]);const O=[{key:"Index",name:"S.No ",frozen:!0},{key:"TestType",name:"Test Type",frozen:!0,renderCell:e=>(0,m.jsxs)(m.Fragment,{children:[console.log(e),"Individual"==e.row.TestType?(0,m.jsx)(m.Fragment,{children:e.row.TestType}):(0,m.jsx)(m.Fragment,{children:"".concat(e.row.FavouriteName," - \n                             \n                             (").concat(e.row.TestType,")")})]})},{key:"TestName",name:"Test Name",renderCell:e=>(0,m.jsxs)(m.Fragment,{children:[console.log(e),"Individual"==e.row.TestType?(0,m.jsx)(m.Fragment,{children:e.row.TestName}):(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(r.A,{className:"cell_btn",onClick:()=>(e=>{console.log("paramsview",e.row.TestNames),M(!0),L(e.row.TestNames)})(e),children:(0,m.jsx)(c.A,{className:"check_box_clrr_cancell"})})})]})}];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"common_center_tag",children:(0,m.jsx)("span",{children:"Lab Test Name"})}),(0,m.jsx)("div",{className:"RegisFormcon_1",children:(0,m.jsxs)("div",{className:"RegisForm_1",children:[(0,m.jsxs)("label",{style:{fontSize:"20px"},children:["Test Type ",(0,m.jsx)("span",{children:":"})]}),(0,m.jsxs)("select",{name:"testType",value:g,autoComplete:"off",onChange:e=>p(e.target.value),children:[(0,m.jsx)("option",{value:"Individual",children:"Individual"}),(0,m.jsx)("option",{value:"Favourites",children:"Favourites"})]})]})}),"Individual"===g?(0,m.jsx)("div",{className:"displayuseraccess",children:N.map(((e,s)=>(0,m.jsxs)("div",{className:"displayuseraccess_child",style:{marginLeft:"80px"},children:[console.log("item",e),console.log("indivitualChecked indivitualChecked",_),(0,m.jsx)("input",{type:"checkbox",id:e.id,checked:_.some((s=>s.id===e.id)),onChange:()=>((e,s)=>{if(console.log("testType",e,s,g),f.some((s=>s.TestDetails.some((s=>s.TestCode===e)))))return void u({type:"toast",value:{message:"Already Selected The Testname in Favourites .",type:"warn"}});console.log("indivitualChecked aishfniensi387 :",_);const a=_.some((s=>s.id===e));if(console.log(a),a){const s=_.filter((s=>s.id!==e));k(s)}else{const a=[..._,{id:e,Test_Name:s,testType:g}];k(a)}})(e.id,e.Test_Name)}),(0,m.jsx)("label",{htmlFor:e.id,className:"par_acc_lab",children:e.Test_Name})]},s)))}):(0,m.jsx)("div",{className:"displayuseraccess",children:y.map((e=>(0,m.jsxs)("div",{className:"displayuseraccess_child",children:[console.log(e),console.log(f),(0,m.jsx)("input",{type:"checkbox",id:e.id,checked:f.some((s=>s.key===e.id)),onChange:()=>((e,s,a,t)=>{console.log("Change detected:",e,s,a,t,g);const n=t.map((e=>e.TestCode));if(console.log("TestCodes from TestDetails:",n),n.some((e=>_.some((s=>s.id===e)))))return void u({type:"toast",value:{message:"Already Some Testname  Selected Indivitual .",type:"warn"}});if(f.some((s=>s.key===e))){const s=f.filter((s=>s.key!==e));F(s)}else{const n=[...f,{key:e,FavouriteName:s,Current_Amount:a,TestDetails:t,testType:g}];F(n)}})(e.id,e.FavouriteName,e.Current_Amount,e.TestName)}),(0,m.jsx)("label",{htmlFor:e.id,className:"par_acc_lab",children:e.FavouriteName}),e.TestName.map(((e,s)=>(0,m.jsxs)("div",{style:{marginLeft:"20px",marginTop:"5px"},children:[(0,m.jsx)("label",{htmlFor:e.TestCode,className:"chi_acc_lab",children:e.TestName}),(0,m.jsx)("br",{})]},s)))]},e.id)))}),I.length>0&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"common_center_tag",children:(0,m.jsx)("span",{children:"Selected Individual TestName"})}),(0,m.jsx)(o.A,{columns:C,RowData:I})]}),b.length>0&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"common_center_tag",children:(0,m.jsx)("span",{children:"Selected Favourites Name"})}),(0,m.jsx)(o.A,{columns:[{key:"id",name:"S.No ",frozen:!0},{key:"FavouriteName",name:"Favourite Name",frozen:!0},{key:"TestCode",name:"Test Code"},{key:"TestName",name:"Test Name"}],RowData:b})]}),(0,m.jsx)("div",{className:"Main_container_Btn",children:(0,m.jsx)("button",{onClick:()=>{if(_.length>0||f.length>0){const a={LabQueueId:h.LabQueueId,IndivitualArr:_||[],FavouritesArr:f||[],created_by:(null===s||void 0===s?void 0:s.username)||"",Register_Id:(null===v||void 0===v?void 0:v.RegistrationId)||""};console.log("data",a),n.A.post("".concat(e,"OP/Lab_Request_Detailslink"),a).then((e=>{const s=e.data,a=Object.keys(s)[0],t=Object.values(s)[0];u({type:"toast",value:{message:t,type:a}}),w((e=>!e)),T({LabQueueId:"",IndivitualArr:"",FavouritesArr:""}),k([]),F([])})).catch((e=>{console.log(e)}))}else{u({type:"toast",value:{message:"Please Select TestNames Or Favourites Names.",type:"warn"}})}},children:"save"})}),S.length>0&&(0,m.jsxs)(m.Fragment,{children:[console.log("ss",S),(0,m.jsx)(o.A,{columns:O,RowData:S})]}),z&&D.length>0&&(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.A,{columns:[{key:"Index",name:"S.No ",frozen:!0},{key:"TestName",name:"Test Name"}],RowData:D})}),(0,m.jsx)(l.A,{Message:a.message,Type:a.type})]})}}}]);
//# sourceMappingURL=784.330d9b87.chunk.js.map