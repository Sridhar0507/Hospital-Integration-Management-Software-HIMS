"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[427],{6427:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var o=s(5043),a=s(6213),d=s(3003),i=s(6133),l=s(6324),n=s(184),c=s(1906),r=s(579);const m=()=>{const[e,t]=(0,o.useState)(!1),[s,m]=(0,o.useState)([]),u=(0,d.d4)((e=>{var t;return null===(t=e.userRecord)||void 0===t?void 0:t.UrlLink})),T=(0,d.d4)((e=>{var t;return null===(t=e.userRecord)||void 0===t?void 0:t.UserData})),g=(0,d.d4)((e=>{var t;return null===(t=e.userRecord)||void 0===t?void 0:t.toast})),y=(0,d.d4)((e=>{var t;return null===(t=e.Frontoffice)||void 0===t?void 0:t.DoctorWorkbenchNavigation})),N=(0,d.wA)();(0,o.useEffect)((()=>{a.A.get("".concat(u,"Masters/Radiology_details_link_view")).then((e=>{const t=e.data;console.log("testnameasas",t),m(t)})).catch((e=>{console.log(e)}))}),[e,u]);const[h,b]=(0,o.useState)([]),[_,C]=(0,o.useState)([]);console.log("CheckedTestName",h),console.log("SubtestNo",_);const p=[{key:"id",name:"S.No",frozen:!0},{key:"TestCode",name:"Test Code",frozen:!0},{key:"RadiologyName",name:"Radiology Name",frozen:!0},{key:"TestName",name:"Test Name",frozen:!0},{key:"Action",name:"Action",renderCell:e=>(0,r.jsx)(c.A,{className:"cell_btn",onClick:()=>(e=>{const t=_.filter((t=>t.testid!==e.testid||t.Radiologyid!==e.Radiologyid));C(t)})(e.row),children:(0,r.jsx)(n.qbC,{className:"check_box_clrr_cancell"})})}],R=[{key:"id",name:"S.No ",frozen:!0},{key:"RadiologyName",name:"RadiologyName",frozen:!0},{key:"TestCode",name:"Test Code"},{key:"TestName",name:"Test Name"},{key:"SubTestName",name:"Sub TestName"},{key:"Amount",name:"Amount"},{key:"Action",name:"Action",renderCell:e=>(0,r.jsx)(c.A,{className:"cell_btn",onClick:()=>(e=>{const{row:t}=e,s=h.filter((e=>e.Radiologyid!==t.Radiologyid||e.TestCode!==t.TestCode||e.SubTest_Code!==t.SubTest_Code));b(s);const o=_.filter((e=>e.Radiologyid!==t.Radiologyid||e.TestCode!==t.TestCode));C(o)})(e),children:(0,r.jsx)(n.qbC,{className:"check_box_clrr_cancell"})})}],S=(e=>e.map(((e,t)=>({Radiologyid:e.Radiologyid,RadiologyName:e.RadiologyName,TestCode:e.TestCode,TestName:e.TestName,testid:e.testid,Subtestid:e.Subtestid,Amount:e.Amount,SubTestName:e.SubTestName,SubTest_Code:e.SubTest_Code,id:t+1}))))(h),x=(e=>e.map(((e,t)=>({Radiologyid:e.Radiologyid,RadiologyName:e.RadiologyName,TestCode:e.TestCode,TestName:e.TestName,testid:e.testid,id:t+1}))))(_),[k,f]=(0,o.useState)({RadiologyTestId:"",CheckedTestNameArr:"",SubtestNoArr:""}),[v,j]=(0,o.useState)(!1),[A,w]=(0,o.useState)([]);return(0,o.useEffect)((()=>{const e={Register_Id:y.RegistrationId};a.A.get("".concat(u,"OP/Radiology_Request_Detailslink"),{params:e}).then((e=>{const t=e.data;console.log("response111",t),w(t)})).catch((e=>{console.log(e)}))}),[v,u,y.RegistrationId]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"common_center_tag",children:(0,r.jsx)("span",{children:"Radiology TestName"})}),(0,r.jsx)("div",{className:"displayuseraccess",children:s.map((e=>(0,r.jsxs)("div",{className:"displayuseraccess_child",children:[(0,r.jsx)("label",{htmlFor:e.id,style:{fontSize:"20px",fontWeight:"bold"},className:"par_acc_lab",children:e.RadiologyName}),e.TestNames.filter((e=>"No"===e.Types)).map((t=>(0,r.jsxs)("div",{style:{marginLeft:"20px",marginTop:"5px"},children:[(0,r.jsx)("input",{type:"checkbox",id:t.id,onChange:()=>((e,t,s,o,a,d,i)=>{if(_.some((e=>e.TestCode===d))){const e=_.filter((e=>e.TestCode!==d));C(e)}else{const l=[..._,{Radiologyid:o,RadiologyName:a,testid:t,TestName:s,Curr_Amount:e,TestCode:d,SubTestType:i}];C(l)}})(t.Curr_Amount,t.id,t.TestName,e.id,e.RadiologyName,t.TestCode,t.Types),checked:_.some((e=>e.TestCode===t.TestCode)),style:{marginRight:"10px"}}),(0,r.jsx)("label",{htmlFor:t.id,className:"chi_acc_lab",children:t.TestName})]},t.id))),e.TestNames.filter((e=>"Yes"===e.Types)).map((t=>(0,r.jsxs)("div",{className:"displayuseraccess_child",children:[(0,r.jsx)("label",{htmlFor:t.id,style:{fontSize:"16px",fontWeight:"bold"},className:"par_acc_lab",children:t.TestName}),t.Sub_test_data&&t.Sub_test_data.map((s=>(0,r.jsxs)("div",{style:{marginLeft:"20px",marginTop:"5px"},children:[(0,r.jsx)("input",{type:"checkbox",id:s.SubTest_Code,onChange:()=>((e,t,s,o,a,d,i,l,n,c)=>{if(h.some((e=>e.SubTest_Code===t&&e.testid===a))){const e=h.filter((e=>!(e.SubTest_Code===t&&e.testid===a)));b(e)}else{const r=[...h,{Radiologyid:l,RadiologyName:n,testid:a,TestName:d,TestCode:i,Subtestid:e,SubTest_Code:t,TestCode:i,SubTestName:s,SubTestType:c,Amount:o}];b(r)}})(s.id,s.SubTest_Code,s.SubTestName,s.Amount,t.id,t.TestName,t.TestCode,e.id,e.RadiologyName,t.Types),checked:h.some((e=>e.SubTest_Code===s.SubTest_Code)),style:{marginRight:"10px"}}),(0,r.jsx)("label",{htmlFor:s.SubTest_Code,style:{fontSize:"16px",color:"#555"},children:s.SubTestName})]},s.id)))]},t.id)))]},e.id)))}),x.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"common_center_tag",children:(0,r.jsx)("span",{children:"Selected TestName"})}),(0,r.jsx)(i.A,{columns:p,RowData:x})]}),S.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"common_center_tag",children:(0,r.jsx)("span",{children:"Selected SubTest Name"})}),(0,r.jsx)(i.A,{columns:R,RowData:S})]}),(0,r.jsx)("div",{className:"Main_container_Btn",children:(0,r.jsx)("button",{onClick:()=>{if(h.length>0||_.length>0){const e={RadiologyTestId:k.RadiologyTestId,CheckedTestNameArr:h,SubtestNoArr:_,created_by:(null===T||void 0===T?void 0:T.username)||"",Register_Id:(null===y||void 0===y?void 0:y.RegistrationId)||""};console.log("data",e),a.A.post("".concat(u,"OP/Radiology_Request_Detailslink"),e).then((e=>{const t=e.data,s=Object.keys(t)[0],o=Object.values(t)[0];N({type:"toast",value:{message:o,type:s}}),j((e=>!e)),f({RadiologyTestId:"",CheckedTestNameArr:[],SubtestNoArr:[]}),b([]),C([])})).catch((e=>{console.log(e)}))}else{N({type:"toast",value:{message:"Please Select TestNames .",type:"warn"}})}},children:"save"})}),(0,r.jsx)(l.A,{Message:g.message,Type:g.type})]})}}}]);
//# sourceMappingURL=427.d5223832.chunk.js.map