"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8152],{8152:(e,a,t)=>{t.r(a),t.d(a,{default:()=>h});var n=t(3003),o=t(6213),s=t(5043),c=t(6324),r=t(6133),i=t(8983),l=t(1828),d=t(579);const h=()=>{const e=(0,n.d4)((e=>{var a;return null===(a=e.userRecord)||void 0===a?void 0:a.UrlLink})),a=(0,n.d4)((e=>{var a;return null===(a=e.userRecord)||void 0===a?void 0:a.UserData})),t=(0,n.d4)((e=>{var a;return null===(a=e.userRecord)||void 0===a?void 0:a.toast})),h=(0,n.d4)((e=>{var a;return null===(a=e.Frontoffice)||void 0===a?void 0:a.IP_DoctorWorkbenchNavigation})),u=(0,n.wA)(),[g,m]=(0,s.useState)("Incharge"),[v,p]=(0,s.useState)({Speciality:"",DoctorName:"",Reason:""}),[y,x]=(0,s.useState)(!1),[j,R]=(0,s.useState)([]),[f,k]=(0,s.useState)([]),[D,S]=(0,s.useState)([]),[_,I]=(0,s.useState)([]);(0,s.useEffect)((()=>{v.Speciality&&o.A.get("".concat(e,"Masters/get_Doctor_by_Speciality_Detials?Speciality=").concat(v.Speciality)).then((e=>{const a=e.data;console.log(a),S(a)})).catch((e=>{console.log(e)}))}),[e,v.Speciality]),(0,s.useEffect)((()=>{o.A.get("".concat(e,"Masters/Doctors_Speciality_Detials_link")).then((e=>{const a=e.data;console.log(a),I(a)})).catch((e=>{console.log(e)}))}),[e]);const N=[{key:"id",name:"S.No",frozen:!0},{key:"VisitId",name:"Visit ID",frozen:!0},{key:"PrimaryDoctorName",name:"Doctor Name",frozen:!0},{key:"Type",name:"Type"},{key:"Speciality",name:"Speciality"},{key:"DoctorName",name:"DoctorName"},{key:"Reason",name:"Reason"},{key:"CurrDate",name:"Date",frozen:!0},{key:"CurrTime",name:"Time",frozen:!0}];(0,s.useEffect)((()=>{o.A.get("".concat(e,"Ip_Workbench/IP_InchargeAndRefer_Details_Link"),{params:{RegistrationId:null===h||void 0===h?void 0:h.RegistrationId,Type:g}}).then((e=>{console.log("Incharge_details:",e.data),R(e.data||[])})).catch((e=>{console.error(e)}))}),[y,g,e,null===h||void 0===h?void 0:h.RegistrationId]);const b=e=>{const{name:a,value:t}=e.target;console.log(a,t),p((e=>({...e,[a]:t})))};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"RegisFormcon_1",children:[(0,d.jsx)("div",{style:{width:"100%",display:"grid",placeItems:"center"},children:(0,d.jsxs)(l.A,{value:g,exclusive:!0,onChange:e=>{m(e.target.value),p({Speciality:"",DoctorName:"",Reason:""})},"aria-label":"Platform",children:[(0,d.jsx)(i.A,{value:"Incharge",style:{height:"30px",width:"200px",backgroundColor:"Incharge"===g?"var(--selectbackgroundcolor)":"inherit"},className:"togglebutton_container",children:"Incharge Doctor"}),(0,d.jsx)(i.A,{value:"Refer",style:{backgroundColor:"Refer"===g?"var(--selectbackgroundcolor)":"inherit",width:"200px",height:"30px"},className:"togglebutton_container",children:"Refer a Doctor"})]})}),(0,d.jsxs)("div",{className:"RegisFormcon",children:[(0,d.jsxs)("div",{className:"RegisForm_1",children:[(0,d.jsxs)("label",{children:["Speciality ",(0,d.jsx)("span",{children:":"})]}),(0,d.jsxs)("select",{name:"Speciality",value:v.Speciality,onChange:b,children:[(0,d.jsx)("option",{value:"",children:"Select"}),_.map(((e,a)=>(0,d.jsx)("option",{value:e.id,children:e.SpecialityName},a)))]})]}),(0,d.jsxs)("div",{className:"RegisForm_1",children:[(0,d.jsxs)("label",{children:["Doctor Name ",(0,d.jsx)("span",{children:":"})]}),(0,d.jsxs)("select",{name:"DoctorName",value:v.DoctorName,onChange:b,children:[(0,d.jsx)("option",{value:"",children:"Select"}),D.map(((e,a)=>(0,d.jsx)("option",{value:e.id,children:e.Name},a)))]})]}),(0,d.jsxs)("div",{className:"RegisForm_1",children:[(0,d.jsxs)("label",{children:["Reason ",(0,d.jsx)("span",{children:":"})]}),(0,d.jsx)("textarea",{name:"Reason",value:v.Reason,onChange:b})]})]}),(0,d.jsx)("div",{className:"Main_container_Btn",children:(0,d.jsx)("button",{onClick:()=>{let t={};("Incharge"===g||"Refer"===g)&&(t=v);const n={...t,Inserttype:g,RegistrationId:null===h||void 0===h?void 0:h.RegistrationId,Createdby:null===a||void 0===a?void 0:a.username};console.log(n,"sendData"),o.A.post("".concat(e,"Ip_Workbench/IP_InchargeAndRefer_Details_Link"),n).then((e=>{const[a,n]=[Object.keys(e.data)[0],Object.values(e.data)[0]];u({type:"toast",value:{message:n,type:a}}),R((e=>[...e,t])),x((e=>!e)),p({Speciality:"",DoctorName:"",Reason:""})})).catch((e=>console.log(e)))},children:"Submit"})}),"Incharge"===g&&j.length>0&&(0,d.jsx)(r.A,{columns:N,RowData:j}),"Refer"===g&&j.length>0&&(0,d.jsx)(r.A,{columns:N,RowData:j}),(0,d.jsx)(c.A,{Message:t.message,Type:t.type})]})})}}}]);
//# sourceMappingURL=8152.809080d6.chunk.js.map